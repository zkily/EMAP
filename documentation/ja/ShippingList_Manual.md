# 出荷一覧ページ操作説明書

## 1. 概要

このページでは、出荷情報の検索、表示、および管理を行うことができます。出荷データの新規作成、編集、印刷、ピッキングデータのエクスポートなど、出荷プロセスに関連する主要な機能を提供します。

## 2. 画面構成

画面は主に3つのエリアで構成されています。

- **ヘッダーエリア:** ページタイトルと、現在表示されている出荷データの合計件数を表示します。
- **検索条件エリア:** 出荷データをフィルタリングするための様々な検索条件を提供します。
- **出荷リストエリア:** 検索条件に一致した出荷データの一覧をテーブル形式で表示し、各種操作ボタンを提供します。

---

## 3. 検索機能

「検索条件」カードでは、データを絞り込むための条件を指定できます。

### 3.1. 簡易検索と詳細検索

- **簡易検索:** デフォルトで表示される基本的な検索モードです。
- **詳細検索:** 「詳細検索」ボタンをクリックすると、より詳細な検索項目（出荷番号、製品CDなど）が表示されます。元の表示に戻すには「簡易検索」ボタンをクリックします。

### 3.2. 基本的な検索条件

- **期間:**
  - `開始日`と`終了日`を指定して、出荷日で範囲検索ができます。
  - `<` `>` ボタンで日付を1日ずつ移動できます。
  - `今日`ボタンで、本日の日付を自動で設定します。
- **納入先:**
  - **個別選択:** ドロップダウンから特定の納入先を1つ選択して検索します。
  - **グループ選択:** 事前に作成した納入先グループを選択して、複数の納入先を一度に検索します。
  - **グループ管理:** `管理`ボタンをクリックして、納入先グループの作成・編集ダイアログを開きます。（詳細は「5. 納入先グループ管理」を参照）
- **状態:**
  - `未発行`、`発行済`などの出荷ステータスで絞り込みます。

### 3.3. アクションボタン

- **検索:** 指定した条件でデータを検索・再読み込みします。
- **リセット:** 全ての検索条件を初期状態に戻します。

---

## 4. 出荷リストの操作

リスト上部のボタンや、テーブル内の各行から様々な操作が可能です。

### 4.1. ヘッダーボタン機能

- **出荷単作成:** 新しい出荷データを作成するためのダイアログを開きます。
- **選択印刷:** テーブルで選択した複数の出荷データをまとめて印刷します。選択したアイテム数はボタン上のバッジで確認できます。
- **列表示設定:** テーブルに表示する列をカスタマイズするためのダイアログを開きます。チェックを入れた項目が表示されます。設定はブラウザに保存されます。
- **ピッキング出力:** 現在の検索結果に基づいてピッキング用のCSVデータを生成し、指定されたフォルダに保存します。
- **未ピッキング検出:** まだピッキングされていない注文を検出するためのダイアログを開きます。

### 4.2. テーブル操作

- **行の選択:**
  - 各行の先頭にあるチェックボックスで、印刷対象のデータを選択します。
  - 1つの製品を選択すると、同じ出荷番号を持つ他の製品も自動的にグループ選択されます。
  - ヘッダーのチェックボックスをクリックすると、検索結果の**全て**のデータが選択/選択解除されます。
- **ソート:**
  - `出荷日`や`納入日`などの列名をクリックすると、その列を基準にデータを昇順・降順で並べ替えることができます。
- **ページネーション:**
  - テーブル下部のページネーションコントロールで、表示するページや1ページあたりの表示件数（10, 20, 50, 100件）を切り替えることができます。

### 4.3. 行ごとのアクション

各行の右端にある「操作」列のボタンから、個別のデータに対するアクションを実行できます。

- **(編集):** 選択した出荷データの詳細情報を編集するダイアログを開きます。
- **(印刷):** 選択した行の出荷データを印刷します。同じ出荷番号の製品はまとめて印刷されます。
- **(取消):** 選択した出荷データを取り消します。この操作は関連する注文データにも影響するため、確認ダイアログが表示されます。キャンセル済みのデータは編集できません。

---

## 5. 納入先グループ管理

頻繁に検索する複数の納入先をグループとして保存し、ワンクリックで呼び出すことができます。

1. **管理ダイアログを開く:** 「検索条件」エリアの納入先フィールドにある `管理` ボタンをクリックします。
2. **グループの作成:**
   - ダイアログ右側の「グループ追加」ボタンで新しいグループを作成します。
   - グループ名を入力します。
3. **納入先の追加:**
   - 左側の「未分類の納入先」リストから、グループに追加したい納入先をドラッグ＆ドロップで右側のグループエリアに移動します。
4. **保存と適用:**
   - 「確定」ボタンを押すと、グループ設定が保存され、選択したグループの納入先でデータが絞り込まれます。
5. **グループの利用:**
   - 保存したグループは、納入先フィールドの「グループ」ドロップダウンから選択できます。
